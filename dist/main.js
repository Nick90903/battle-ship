(()=>{"use strict";var e={d:(t,l)=>{for(var s in l)e.o(l,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:l[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{T:()=>f,D:()=>p});const t=(e,t,l)=>{let s=e,o=0,n=!1,c=[],a=[];for(let s=0;s<e;s++)c.push(i(t,s,l));c.forEach((e=>{a.push(e.hull)}));const d=()=>o==s&&(n=!0,a.forEach((e=>{e.classList.add("sunk")})),!0);return{hit:(e,t,l)=>l?(c[e].countHit(t),o++,d(),c[e].isHit()):void 0,isSunk:d,shipSize:s,hullDiv:a}};let l=[t(2,0,"p"),t(3,1,"p"),t(3,2,"p"),t(4,3,"p"),t(5,4,"p")],s=[t(2,0,"o"),t(3,1,"o"),t(3,2,"o"),t(4,3,"o"),t(5,4,"o")];function i(e,t,l){let i=document.createElement("div");i.classList.add("board"),i.classList.add("hull"),i.classList.add(`ship${e}`),i.value=t,"p"==l||i.addEventListener("click",(function(){f()&&(s[this.classList[2].slice(4)].hit(this.value,this,f()),u())}));let o=!1;return{hull:i,countHit:e=>{o=!0,e.classList.add("hit")},isHit:()=>o}}function o(e,t){const l=document.createElement("div");l.classList.add("boardContainer"),l.classList.add(t+"container");let s=0;for(let i=0;i<Math.pow(e,2);i++){let e=document.createElement("div");e.classList.add("board"),"player"==t?(e.classList.add("p"+s),e.addEventListener("click",(function(){a(this.classList[1])}))):(e.classList.add("o"+s),e.addEventListener("click",(function(){var e;f()&&(e=this.classList[1],h.includes(e)||(document.querySelector(`.${e}`).classList.add("miss"),h.push(e),u()))}))),e.classList.add(t),l.appendChild(e),s++}return document.querySelector(".content").appendChild(l),s}function n(e,t){console.log(`Placing boat ${t} at ${e}`);let l=document.querySelector(`.${e}`),s=t;s.classList.add(l.classList[1]),l.parentNode.replaceChild(s,l)}console.log(l);let c=0;function a(e){if(c<l.length){let t=l[c],s=parseInt(e.slice(1,3));if(!p(s,t.shipSize,"p"))return;if(s>9){if(!(10-parseInt(e.slice(2))>=t.shipSize))return;{let e=t.hullDiv;for(let l=0;l<t.shipSize;l++)n(`p${s+l}`,e[l])}}else{if(!(10-e.slice(1)>=t.shipSize))return;{console.log(10-t.shipSize+"meme");let e=t.hullDiv;for(let l=0;l<t.shipSize;l++)n(`p${s+l}`,e[l])}}document.querySelector(`.ship${c}`).classList.add("used"),c++}}!function(){let e=document.querySelector(".shipContent");for(let t=0;t<l.length;t++){let s=document.createElement("div");s.classList.add(`ship${t}`),s.classList.add("shipPreview");let i=l[t].hullDiv;console.log(i+"temp"),i.forEach((e=>{s.appendChild(e)})),e.appendChild(s)}}();let d=0,r=[];function u(){let e=Math.floor(100*Math.random());if(r.includes(e))r.length<100&&u();else{const t=document.querySelector(`.p${e}`);t.classList.contains("hull")?(l[t.classList[2].slice(4)].hit(t.value,t,!0),console.log("hit Ship")):(console.log("missed Ship"),t.classList.add("attacked")),r.push(e)}}let h=[];function p(e,t,l){let s=[];if(e+t+2>99)return!1;for(let i=0;i<t;i++)document.querySelector(`.${l}${e+i}`).classList.forEach((e=>{s.push(e)}));return console.log(s),console.log(`Contains Hull? ${s.includes("hull")}`),!s.includes("hull")}function f(){return c==l.length}o(10,"player"),o(10,"opponent"),function e(){let t=Math.floor(100*Math.random());if(console.log(d),d<s.length){let l=s[d];if(p(t,l.shipSize,"o"))if(t>9)if(10-parseInt(t.toString().slice(1))>=l.shipSize){let s=l.hullDiv;for(let e=0;e<l.shipSize;e++)n(`o${t+e}`,s[e]);d++,e()}else e();else if(10-t>=l.shipSize){let s=l.hullDiv;for(let e=0;e<l.shipSize;e++)n(`o${t+e}`,s[e]);d++,e()}else e();else e()}}()})();